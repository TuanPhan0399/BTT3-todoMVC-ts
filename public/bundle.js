/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (() => {

eval("\n// Selector\nconst taskInput = document.querySelector(\".task-input input\");\nconst taskBox = document.querySelector(\".task-box\");\nconst filters = document.querySelectorAll(\".filters > span\");\nconst controls = document.querySelector(\".controls\");\nconst iTaskInput = document.querySelector(\".task-input i\");\nconst clearAll = document.querySelector(\".clear-btn\");\nlet count = document.querySelector(\".count\");\n// Variable\nlet countIndex;\nlet idFilter = \"all\";\n// getting localstorage todo-list\nlet todos = JSON.parse(localStorage.getItem(\"todo-list\") || \"[]\");\nlet taskInfo;\n// Event Listener\ntaskInput.addEventListener(\"keyup\", saveTask);\nclearAll.addEventListener(\"click\", clearAllCompleted);\niTaskInput.addEventListener(\"click\", takeAll);\n// Work with filters\nfilters.forEach((btn) => {\n    btn.addEventListener(\"click\", () => {\n        var _a;\n        (_a = document.querySelector(\"span.active\")) === null || _a === void 0 ? void 0 : _a.classList.remove(\"active\");\n        btn.classList.add(\"active\");\n        showTodo(btn.id);\n        return (idFilter = btn.id);\n    });\n});\n// window\nwindow.updateStatus = updateStatus;\nwindow.deleteTask = deleteTask;\nwindow.editTask = editTask;\n// Function\nfunction showTodo(filter) {\n    let li = \"\";\n    countIndex = todos.length;\n    if (todos) {\n        todos.forEach((todo, id) => {\n            // handle count\n            if (todo.taskStatus === \"completed\") {\n                countIndex -= 1;\n            }\n            // if todo status is completed, set the isCompleted value checked\n            let isCompleted = todo.taskStatus === \"completed\" ? \"checked\" : \"\";\n            if (filter === todo.taskStatus || filter === \"all\") {\n                li += `<li class=\"task\">\n                <div>\n                  <input onchange=\"updateStatus(this)\" type=\"checkbox\" id=\"${id}\" ${isCompleted}>\n                  <input ondblclick=\"editTask(this)\" type=\"text\" value=\"${todo.taskValue}\" class=\"${id} ${isCompleted}\" readOnly>\n                </div>\n                <div class=\"task-close\">\n                  <i onclick=\"deleteTask(${id})\" class=\"fa-solid fa-xmark\"></i>\n                </div>\n              </li>`;\n            }\n            if (todo.taskStatus === \"completed\") {\n                clearAll.style.opacity = \"1\";\n            }\n        });\n    }\n    let todo = todos.filter((todo) => todo.taskStatus === \"completed\");\n    if (todo.length === todos.length) {\n        iTaskInput.classList.add(\"tick-all\");\n    }\n    else {\n        iTaskInput.classList.remove(\"tick-all\");\n    }\n    taskBox.innerHTML = li;\n    if (todos.length > 0) {\n        controls.style.display = \"flex\";\n        iTaskInput.style.display = \"block\";\n        count.innerText = countIndex.toString();\n    }\n    else {\n        controls.style.display = \"none\";\n    }\n}\nshowTodo(idFilter);\n// check iput\nfunction updateStatus(selectedTask) {\n    var _a, _b;\n    let liTask = (_a = selectedTask.parentElement) === null || _a === void 0 ? void 0 : _a.parentElement;\n    // Getting paragraph that contains task name\n    let taskName = (_b = selectedTask.parentElement) === null || _b === void 0 ? void 0 : _b.lastElementChild;\n    const filterStatus = Array.from(filters);\n    let filterActive = filterStatus.filter((e) => e.classList[0] === \"active\");\n    // Getting ID\n    let id = Number(selectedTask.id);\n    if (selectedTask.checked) {\n        taskName.classList.add(\"checked\");\n        // updating the status of selected task to completed\n        todos[id].taskStatus = \"completed\";\n        clearAll.style.opacity = \"1\";\n        countIndex -= 1;\n    }\n    else {\n        taskName.classList.remove(\"checked\");\n        // updating the status of selected task to pending\n        todos[id].taskStatus = \"pending\";\n        countIndex += 1;\n    }\n    // tick all\n    let todo = todos.filter((todo) => todo.taskStatus === \"completed\");\n    if (todo.length === todos.length) {\n        iTaskInput.classList.add(\"tick-all\");\n    }\n    else {\n        iTaskInput.classList.remove(\"tick-all\");\n    }\n    // fix clear all\n    let todoPending = todos.filter((todoPending) => todoPending.taskStatus === \"pending\");\n    if (todoPending.length === todos.length) {\n        clearAll.style.opacity = \"0\";\n    }\n    // fix bug active\n    if (filterActive[0].id === \"completed\" && selectedTask.checked === false) {\n        liTask.style.display = \"none\";\n    }\n    else if (filterActive[0].id === \"pending\" && selectedTask.checked) {\n        liTask.style.display = \"none\";\n    }\n    else if (filterActive[0].id === \"all\") {\n        liTask.style.display = \"flex\";\n    }\n    count.innerText = countIndex.toString();\n    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n}\n// Save to local\nfunction saveTask(e) {\n    // Do not take spaces and null characters\n    let userTask = taskInput.value.trim();\n    if (e.key === \"Enter\" && userTask) {\n        taskInput.value = \"\";\n        // Add one task new on todos\n        taskInfo = {\n            taskValue: userTask,\n            taskStatus: \"pending\",\n        };\n        iTaskInput.classList.remove(\"tick-all\");\n        todos.push(taskInfo);\n        localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n        showTodo(idFilter);\n    }\n}\n// Deleted task\nfunction deleteTask(deleteID) {\n    // remove selected task\n    todos.splice(deleteID, 1);\n    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n    if (todos.length === 0) {\n        controls.style.display = \"none\";\n        iTaskInput.style.display = \"none\";\n    }\n    let todo2 = todos.filter((todo) => todo.taskStatus === \"completed\");\n    if (todo2.length === 0) {\n        clearAll.style.opacity = \"0\";\n    }\n    showTodo(idFilter);\n}\n// Data editing function\nfunction editTask(input) {\n    var _a, _b, _c;\n    const taskClose = ((_b = (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.lastElementChild);\n    const inputCheck = (_c = input.parentElement) === null || _c === void 0 ? void 0 : _c.firstElementChild;\n    const id = Number(input.classList[0]);\n    taskClose.style.opacity = \"0\";\n    inputCheck.style.opacity = \"0\";\n    input.style.border = \"1px solid #999\";\n    input.readOnly = false;\n    input.setSelectionRange(input.value.length, input.value.length);\n    if (input.classList.contains(\"checked\")) {\n        input.classList.remove(\"checked\");\n        input.addEventListener(\"keyup\", function (event) {\n            if (event.key === \"Enter\") {\n                input.removeEventListener(\"blur\", onBlur);\n                if (input.value.trim()) {\n                    // fix bug edit input and task close;\n                    taskClose.style.opacity = \"1\";\n                    inputCheck.style.opacity = \"1\";\n                    todos[id].taskValue = input.value.trim();\n                    input.classList.add(\"checked\");\n                    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                    showTodo(idFilter);\n                }\n                else {\n                    todos.splice(id, 1);\n                    let todos2 = todos.filter((todo) => todo.taskStatus === \"completed\");\n                    if (todos2.length === 0) {\n                        clearAll.style.opacity = \"0\";\n                    }\n                    if (todos.length === 0) {\n                        iTaskInput.style.display = \"none\";\n                    }\n                    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                    showTodo(idFilter);\n                }\n            }\n        });\n        // add onblur\n        input.addEventListener(\"blur\", onBlur);\n        function onBlur() {\n            if (input.value.trim()) {\n                // fix bug edit input and task close;\n                taskClose.style.opacity = \"1\";\n                inputCheck.style.opacity = \"1\";\n                todos[id].taskValue = input.value.trim();\n                input.classList.add(\"checked\");\n                localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                showTodo(idFilter);\n            }\n            else {\n                todos.splice(id, 1);\n                let todos2 = todos.filter((todo) => todo.taskStatus === \"completed\");\n                if (todos2.length === 0) {\n                    clearAll.style.opacity = \"0\";\n                }\n                if (todos.length === 0) {\n                    iTaskInput.style.display = \"none\";\n                }\n                localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                showTodo(idFilter);\n            }\n        }\n    }\n    else {\n        input.addEventListener(\"keyup\", function (event) {\n            if (event.key === \"Enter\") {\n                input.removeEventListener(\"blur\", onBlur);\n                if (input.value.trim()) {\n                    // fix bug edit input and task close;\n                    taskClose.style.opacity = \"1\";\n                    inputCheck.style.opacity = \"1\";\n                    todos[id].taskValue = input.value.trim();\n                    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                    showTodo(idFilter);\n                }\n                else {\n                    todos.splice(id, 1);\n                    let todos2 = todos.filter((todo) => todo.taskStatus === \"completed\");\n                    if (todos2.length === 0) {\n                        clearAll.style.opacity = \"0\";\n                    }\n                    if (todos.length === 0) {\n                        iTaskInput.style.display = \"none\";\n                    }\n                    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                    showTodo(idFilter);\n                }\n            }\n        });\n        // add onblur\n        input.addEventListener(\"blur\", onBlur);\n        function onBlur() {\n            if (input.value.trim()) {\n                // fix bug edit input and task close;\n                taskClose.style.opacity = \"1\";\n                inputCheck.style.opacity = \"1\";\n                todos[id].taskValue = input.value.trim();\n                localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                showTodo(idFilter);\n            }\n            else {\n                todos.splice(id, 1);\n                let todos2 = todos.filter((todo) => todo.taskStatus === \"completed\");\n                if (todos2.length === 0) {\n                    clearAll.style.opacity = \"0\";\n                }\n                if (todos.length === 0) {\n                    iTaskInput.style.display = \"none\";\n                }\n                localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n                showTodo(idFilter);\n            }\n        }\n    }\n}\n// clear all\nfunction clearAllCompleted() {\n    // removing selected task\n    const todos2 = todos.filter((todo) => todo.taskStatus !== \"completed\");\n    todos = todos2;\n    if (todos.length === 0) {\n        iTaskInput.style.display = \"none\";\n        controls.style.display = \"none\";\n    }\n    clearAll.style.opacity = \"0\";\n    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n    showTodo(idFilter);\n}\n// select all input\nfunction takeAll() {\n    if (iTaskInput.classList.contains(\"tick-all\") === false) {\n        clearAll.style.opacity = \"1\";\n        iTaskInput.classList.add(\"tick-all\");\n        todos.forEach((todo) => {\n            todo.taskStatus = \"completed\";\n        });\n    }\n    else {\n        clearAll.style.opacity = \"0\";\n        iTaskInput.classList.remove(\"tick-all\");\n        todos.forEach((todo) => {\n            todo.taskStatus = \"pending\";\n        });\n    }\n    localStorage.setItem(\"todo-list\", JSON.stringify(todos));\n    showTodo(idFilter);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxHQUFHLElBQUksWUFBWTtBQUNoRywwRUFBMEUsZUFBZSxXQUFXLElBQUksRUFBRSxZQUFZO0FBQ3RIO0FBQ0E7QUFDQSwyQ0FBMkMsR0FBRztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLXR5cGVzY3JpcHQvLi9zcmMvaW5kZXgudHM/ZTk0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIFNlbGVjdG9yXG5jb25zdCB0YXNrSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staW5wdXQgaW5wdXRcIik7XG5jb25zdCB0YXNrQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWJveFwiKTtcbmNvbnN0IGZpbHRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpbHRlcnMgPiBzcGFuXCIpO1xuY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRyb2xzXCIpO1xuY29uc3QgaVRhc2tJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1pbnB1dCBpXCIpO1xuY29uc3QgY2xlYXJBbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsZWFyLWJ0blwiKTtcbmxldCBjb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY291bnRcIik7XG4vLyBWYXJpYWJsZVxubGV0IGNvdW50SW5kZXg7XG5sZXQgaWRGaWx0ZXIgPSBcImFsbFwiO1xuLy8gZ2V0dGluZyBsb2NhbHN0b3JhZ2UgdG9kby1saXN0XG5sZXQgdG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9kby1saXN0XCIpIHx8IFwiW11cIik7XG5sZXQgdGFza0luZm87XG4vLyBFdmVudCBMaXN0ZW5lclxudGFza0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBzYXZlVGFzayk7XG5jbGVhckFsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xlYXJBbGxDb21wbGV0ZWQpO1xuaVRhc2tJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGFrZUFsbCk7XG4vLyBXb3JrIHdpdGggZmlsdGVyc1xuZmlsdGVycy5mb3JFYWNoKChidG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic3Bhbi5hY3RpdmVcIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd1RvZG8oYnRuLmlkKTtcbiAgICAgICAgcmV0dXJuIChpZEZpbHRlciA9IGJ0bi5pZCk7XG4gICAgfSk7XG59KTtcbi8vIHdpbmRvd1xud2luZG93LnVwZGF0ZVN0YXR1cyA9IHVwZGF0ZVN0YXR1cztcbndpbmRvdy5kZWxldGVUYXNrID0gZGVsZXRlVGFzaztcbndpbmRvdy5lZGl0VGFzayA9IGVkaXRUYXNrO1xuLy8gRnVuY3Rpb25cbmZ1bmN0aW9uIHNob3dUb2RvKGZpbHRlcikge1xuICAgIGxldCBsaSA9IFwiXCI7XG4gICAgY291bnRJbmRleCA9IHRvZG9zLmxlbmd0aDtcbiAgICBpZiAodG9kb3MpIHtcbiAgICAgICAgdG9kb3MuZm9yRWFjaCgodG9kbywgaWQpID0+IHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb3VudFxuICAgICAgICAgICAgaWYgKHRvZG8udGFza1N0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAgICAgIGNvdW50SW5kZXggLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRvZG8gc3RhdHVzIGlzIGNvbXBsZXRlZCwgc2V0IHRoZSBpc0NvbXBsZXRlZCB2YWx1ZSBjaGVja2VkXG4gICAgICAgICAgICBsZXQgaXNDb21wbGV0ZWQgPSB0b2RvLnRhc2tTdGF0dXMgPT09IFwiY29tcGxldGVkXCIgPyBcImNoZWNrZWRcIiA6IFwiXCI7XG4gICAgICAgICAgICBpZiAoZmlsdGVyID09PSB0b2RvLnRhc2tTdGF0dXMgfHwgZmlsdGVyID09PSBcImFsbFwiKSB7XG4gICAgICAgICAgICAgICAgbGkgKz0gYDxsaSBjbGFzcz1cInRhc2tcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGlucHV0IG9uY2hhbmdlPVwidXBkYXRlU3RhdHVzKHRoaXMpXCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2lkfVwiICR7aXNDb21wbGV0ZWR9PlxuICAgICAgICAgICAgICAgICAgPGlucHV0IG9uZGJsY2xpY2s9XCJlZGl0VGFzayh0aGlzKVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke3RvZG8udGFza1ZhbHVlfVwiIGNsYXNzPVwiJHtpZH0gJHtpc0NvbXBsZXRlZH1cIiByZWFkT25seT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFzay1jbG9zZVwiPlxuICAgICAgICAgICAgICAgICAgPGkgb25jbGljaz1cImRlbGV0ZVRhc2soJHtpZH0pXCIgY2xhc3M9XCJmYS1zb2xpZCBmYS14bWFya1wiPjwvaT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9saT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvZG8udGFza1N0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAgICAgIGNsZWFyQWxsLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCB0b2RvID0gdG9kb3MuZmlsdGVyKCh0b2RvKSA9PiB0b2RvLnRhc2tTdGF0dXMgPT09IFwiY29tcGxldGVkXCIpO1xuICAgIGlmICh0b2RvLmxlbmd0aCA9PT0gdG9kb3MubGVuZ3RoKSB7XG4gICAgICAgIGlUYXNrSW5wdXQuY2xhc3NMaXN0LmFkZChcInRpY2stYWxsXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaVRhc2tJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwidGljay1hbGxcIik7XG4gICAgfVxuICAgIHRhc2tCb3guaW5uZXJIVE1MID0gbGk7XG4gICAgaWYgKHRvZG9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29udHJvbHMuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBpVGFza0lucHV0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGNvdW50LmlubmVyVGV4dCA9IGNvdW50SW5kZXgudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRyb2xzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG59XG5zaG93VG9kbyhpZEZpbHRlcik7XG4vLyBjaGVjayBpcHV0XG5mdW5jdGlvbiB1cGRhdGVTdGF0dXMoc2VsZWN0ZWRUYXNrKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBsZXQgbGlUYXNrID0gKF9hID0gc2VsZWN0ZWRUYXNrLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJlbnRFbGVtZW50O1xuICAgIC8vIEdldHRpbmcgcGFyYWdyYXBoIHRoYXQgY29udGFpbnMgdGFzayBuYW1lXG4gICAgbGV0IHRhc2tOYW1lID0gKF9iID0gc2VsZWN0ZWRUYXNrLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sYXN0RWxlbWVudENoaWxkO1xuICAgIGNvbnN0IGZpbHRlclN0YXR1cyA9IEFycmF5LmZyb20oZmlsdGVycyk7XG4gICAgbGV0IGZpbHRlckFjdGl2ZSA9IGZpbHRlclN0YXR1cy5maWx0ZXIoKGUpID0+IGUuY2xhc3NMaXN0WzBdID09PSBcImFjdGl2ZVwiKTtcbiAgICAvLyBHZXR0aW5nIElEXG4gICAgbGV0IGlkID0gTnVtYmVyKHNlbGVjdGVkVGFzay5pZCk7XG4gICAgaWYgKHNlbGVjdGVkVGFzay5jaGVja2VkKSB7XG4gICAgICAgIHRhc2tOYW1lLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkXCIpO1xuICAgICAgICAvLyB1cGRhdGluZyB0aGUgc3RhdHVzIG9mIHNlbGVjdGVkIHRhc2sgdG8gY29tcGxldGVkXG4gICAgICAgIHRvZG9zW2lkXS50YXNrU3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgY2xlYXJBbGwuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICBjb3VudEluZGV4IC09IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXNrTmFtZS5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGhlIHN0YXR1cyBvZiBzZWxlY3RlZCB0YXNrIHRvIHBlbmRpbmdcbiAgICAgICAgdG9kb3NbaWRdLnRhc2tTdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgY291bnRJbmRleCArPSAxO1xuICAgIH1cbiAgICAvLyB0aWNrIGFsbFxuICAgIGxldCB0b2RvID0gdG9kb3MuZmlsdGVyKCh0b2RvKSA9PiB0b2RvLnRhc2tTdGF0dXMgPT09IFwiY29tcGxldGVkXCIpO1xuICAgIGlmICh0b2RvLmxlbmd0aCA9PT0gdG9kb3MubGVuZ3RoKSB7XG4gICAgICAgIGlUYXNrSW5wdXQuY2xhc3NMaXN0LmFkZChcInRpY2stYWxsXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaVRhc2tJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwidGljay1hbGxcIik7XG4gICAgfVxuICAgIC8vIGZpeCBjbGVhciBhbGxcbiAgICBsZXQgdG9kb1BlbmRpbmcgPSB0b2Rvcy5maWx0ZXIoKHRvZG9QZW5kaW5nKSA9PiB0b2RvUGVuZGluZy50YXNrU3RhdHVzID09PSBcInBlbmRpbmdcIik7XG4gICAgaWYgKHRvZG9QZW5kaW5nLmxlbmd0aCA9PT0gdG9kb3MubGVuZ3RoKSB7XG4gICAgICAgIGNsZWFyQWxsLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICB9XG4gICAgLy8gZml4IGJ1ZyBhY3RpdmVcbiAgICBpZiAoZmlsdGVyQWN0aXZlWzBdLmlkID09PSBcImNvbXBsZXRlZFwiICYmIHNlbGVjdGVkVGFzay5jaGVja2VkID09PSBmYWxzZSkge1xuICAgICAgICBsaVRhc2suc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWx0ZXJBY3RpdmVbMF0uaWQgPT09IFwicGVuZGluZ1wiICYmIHNlbGVjdGVkVGFzay5jaGVja2VkKSB7XG4gICAgICAgIGxpVGFzay5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbHRlckFjdGl2ZVswXS5pZCA9PT0gXCJhbGxcIikge1xuICAgICAgICBsaVRhc2suc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIH1cbiAgICBjb3VudC5pbm5lclRleHQgPSBjb3VudEluZGV4LnRvU3RyaW5nKCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvLWxpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcbn1cbi8vIFNhdmUgdG8gbG9jYWxcbmZ1bmN0aW9uIHNhdmVUYXNrKGUpIHtcbiAgICAvLyBEbyBub3QgdGFrZSBzcGFjZXMgYW5kIG51bGwgY2hhcmFjdGVyc1xuICAgIGxldCB1c2VyVGFzayA9IHRhc2tJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgdXNlclRhc2spIHtcbiAgICAgICAgdGFza0lucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgLy8gQWRkIG9uZSB0YXNrIG5ldyBvbiB0b2Rvc1xuICAgICAgICB0YXNrSW5mbyA9IHtcbiAgICAgICAgICAgIHRhc2tWYWx1ZTogdXNlclRhc2ssXG4gICAgICAgICAgICB0YXNrU3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgfTtcbiAgICAgICAgaVRhc2tJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwidGljay1hbGxcIik7XG4gICAgICAgIHRvZG9zLnB1c2godGFza0luZm8pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgICAgICBzaG93VG9kbyhpZEZpbHRlcik7XG4gICAgfVxufVxuLy8gRGVsZXRlZCB0YXNrXG5mdW5jdGlvbiBkZWxldGVUYXNrKGRlbGV0ZUlEKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGVjdGVkIHRhc2tcbiAgICB0b2Rvcy5zcGxpY2UoZGVsZXRlSUQsIDEpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvZG9zKSk7XG4gICAgaWYgKHRvZG9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250cm9scy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGlUYXNrSW5wdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICBsZXQgdG9kbzIgPSB0b2Rvcy5maWx0ZXIoKHRvZG8pID0+IHRvZG8udGFza1N0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIik7XG4gICAgaWYgKHRvZG8yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjbGVhckFsbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgfVxuICAgIHNob3dUb2RvKGlkRmlsdGVyKTtcbn1cbi8vIERhdGEgZWRpdGluZyBmdW5jdGlvblxuZnVuY3Rpb24gZWRpdFRhc2soaW5wdXQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCB0YXNrQ2xvc2UgPSAoKF9iID0gKF9hID0gaW5wdXQucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sYXN0RWxlbWVudENoaWxkKTtcbiAgICBjb25zdCBpbnB1dENoZWNrID0gKF9jID0gaW5wdXQucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGNvbnN0IGlkID0gTnVtYmVyKGlucHV0LmNsYXNzTGlzdFswXSk7XG4gICAgdGFza0Nsb3NlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICBpbnB1dENoZWNrLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICBpbnB1dC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCAjOTk5XCI7XG4gICAgaW5wdXQucmVhZE9ubHkgPSBmYWxzZTtcbiAgICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShpbnB1dC52YWx1ZS5sZW5ndGgsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gICAgaWYgKGlucHV0LmNsYXNzTGlzdC5jb250YWlucyhcImNoZWNrZWRcIikpIHtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImNoZWNrZWRcIik7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIG9uQmx1cik7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXggYnVnIGVkaXQgaW5wdXQgYW5kIHRhc2sgY2xvc2U7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tDbG9zZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0Q2hlY2suc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICB0b2Rvc1tpZF0udGFza1ZhbHVlID0gaW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvLWxpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9kb3Muc3BsaWNlKGlkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvZG9zMiA9IHRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby50YXNrU3RhdHVzID09PSBcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvZG9zMi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQWxsLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9kb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpVGFza0lucHV0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9kbyhpZEZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIG9uYmx1clxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBvbkJsdXIpO1xuICAgICAgICBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gZml4IGJ1ZyBlZGl0IGlucHV0IGFuZCB0YXNrIGNsb3NlO1xuICAgICAgICAgICAgICAgIHRhc2tDbG9zZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgaW5wdXRDaGVjay5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgdG9kb3NbaWRdLnRhc2tWYWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgICAgICAgICAgICAgIHNob3dUb2RvKGlkRmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvZG9zLnNwbGljZShpZCwgMSk7XG4gICAgICAgICAgICAgICAgbGV0IHRvZG9zMiA9IHRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby50YXNrU3RhdHVzID09PSBcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodG9kb3MyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckFsbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b2Rvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaVRhc2tJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvZG9zKSk7XG4gICAgICAgICAgICAgICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCBvbkJsdXIpO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4IGJ1ZyBlZGl0IGlucHV0IGFuZCB0YXNrIGNsb3NlO1xuICAgICAgICAgICAgICAgICAgICB0YXNrQ2xvc2Uuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dENoZWNrLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgdG9kb3NbaWRdLnRhc2tWYWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvLWxpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9kb3Muc3BsaWNlKGlkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvZG9zMiA9IHRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby50YXNrU3RhdHVzID09PSBcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvZG9zMi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQWxsLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9kb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpVGFza0lucHV0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9kbyhpZEZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIG9uYmx1clxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBvbkJsdXIpO1xuICAgICAgICBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gZml4IGJ1ZyBlZGl0IGlucHV0IGFuZCB0YXNrIGNsb3NlO1xuICAgICAgICAgICAgICAgIHRhc2tDbG9zZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgaW5wdXRDaGVjay5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgdG9kb3NbaWRdLnRhc2tWYWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgICAgICAgICAgICAgIHNob3dUb2RvKGlkRmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvZG9zLnNwbGljZShpZCwgMSk7XG4gICAgICAgICAgICAgICAgbGV0IHRvZG9zMiA9IHRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby50YXNrU3RhdHVzID09PSBcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodG9kb3MyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckFsbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b2Rvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaVRhc2tJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvZG9zKSk7XG4gICAgICAgICAgICAgICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8gY2xlYXIgYWxsXG5mdW5jdGlvbiBjbGVhckFsbENvbXBsZXRlZCgpIHtcbiAgICAvLyByZW1vdmluZyBzZWxlY3RlZCB0YXNrXG4gICAgY29uc3QgdG9kb3MyID0gdG9kb3MuZmlsdGVyKCh0b2RvKSA9PiB0b2RvLnRhc2tTdGF0dXMgIT09IFwiY29tcGxldGVkXCIpO1xuICAgIHRvZG9zID0gdG9kb3MyO1xuICAgIGlmICh0b2Rvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaVRhc2tJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGNvbnRyb2xzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gICAgY2xlYXJBbGwuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvZG9zKSk7XG4gICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xufVxuLy8gc2VsZWN0IGFsbCBpbnB1dFxuZnVuY3Rpb24gdGFrZUFsbCgpIHtcbiAgICBpZiAoaVRhc2tJbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0aWNrLWFsbFwiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2xlYXJBbGwuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICBpVGFza0lucHV0LmNsYXNzTGlzdC5hZGQoXCJ0aWNrLWFsbFwiKTtcbiAgICAgICAgdG9kb3MuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgICAgICAgdG9kby50YXNrU3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGVhckFsbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgIGlUYXNrSW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcInRpY2stYWxsXCIpO1xuICAgICAgICB0b2Rvcy5mb3JFYWNoKCh0b2RvKSA9PiB7XG4gICAgICAgICAgICB0b2RvLnRhc2tTdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KHRvZG9zKSk7XG4gICAgc2hvd1RvZG8oaWRGaWx0ZXIpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.ts"]();
/******/ 	
/******/ })()
;